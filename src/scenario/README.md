# 시나리오 데이터 관리 가이드

이 폴더는 심리 테스트의 데이터를 관리합니다.

## 📁 파일 구조

### 1. `data.json` - 트리 구조 시나리오 (기존)
32개의 결과를 가진 6단계 트리 구조 시나리오입니다.

**특징:**
- 6개의 질문 (6단계 분기)
- 각 질문마다 2개의 선택지
- 32개의 고유한 결과
- 복잡한 분기 구조

**사용법:**
`src/main.tsx`에서:
```typescript
import App from './App.tsx'  // 이 줄 활성화
```

### 2. `score-data.json` - 점수 기반 시나리오 (신규) ⭐
10개의 질문으로 31개의 결과를 도출하는 점수 기반 시스템입니다.

**특징:**
- 10개의 질문
- 각 질문마다 A(+1점), B(-1점) 선택지
- 총점 범위: -10 ~ +10 (21가지)
- 31개의 점수 범위별 결과 (일부 점수는 범위로 묶음)
- 4가지 카테고리: 사교성, 활동성, 지능/신중함, 애착도

**사용법:**
`src/main.tsx`에서:
```typescript
import App from './App-score.tsx'  // 이 줄 활성화 (현재 활성화됨)
```

## ✏️ 데이터 추가/수정 방법

### score-data.json 수정하기 (추천)

#### 1. 질문 추가하기
`questions` 배열에 새 질문 추가:

```json
{
  "id": "q11",  // 고유 ID
  "text": "새로운 질문 내용?",
  "category": "사교성",  // 또는 활동성, 지능/신중함, 애착도
  "options": [
    {
      "text": "A 선택지",
      "score": 1  // A는 항상 +1
    },
    {
      "text": "B 선택지",
      "score": -1  // B는 항상 -1
    }
  ]
}
```

#### 2. 결과(앵무새) 추가/수정하기
`results` 배열에서 수정:

```json
{
  "name": "앵무새 이름",
  "scoreRange": [-15, -13],  // [최소점수, 최대점수] (포함)
  "summary": "한 줄 요약",
  "description": "상세 설명 (여러 문장 가능)",
  "traits": ["특징1", "특징2", "특징3"],
  "compatibility": ["잘 맞는 앵무1", "잘 맞는 앵무2"]
}
```

#### 점수 범위 설정 가이드:
- **단일 점수**: `[5, 5]` - 정확히 5점일 때
- **범위 점수**: `[-15, -13]` - -15점부터 -13점까지
- **중복 없이 설정**: 모든 가능한 점수를 커버해야 함

**점수 계산:**
- 질문이 10개이고 각 질문당 +1 또는 -1점
- 최대 점수: +10 (모두 A 선택)
- 최소 점수: -10 (모두 B 선택)
- 중립: 0 (A와 B를 5개씩 선택)

#### 3. 이미지 추가하기
이미지를 `public/images/` 폴더에 넣고:

```json
{
  "name": "모란앵무",
  "imageUrl": "/images/lovebird.png",  // 경로 추가
  ...
}
```

### data.json 수정하기 (트리 구조)

복잡한 구조이므로 주의가 필요합니다.

**기본 구조:**
```json
{
  "startNodeId": "q1",  // 시작 노드 ID
  "nodes": {
    "q1": {  // 질문 노드
      "id": "q1",
      "type": "question",
      "text": "질문 내용",
      "options": [
        { "text": "선택지 A", "nextId": "q2a" },
        { "text": "선택지 B", "nextId": "q2b" }
      ]
    },
    "result1": {  // 결과 노드
      "id": "result1",
      "type": "result",
      "title": "결과 제목",
      "description": "결과 설명"
    }
  }
}
```

**주의사항:**
- 모든 `nextId`는 실제로 존재하는 노드 ID여야 함
- 질문 노드는 `type: "question"`, 결과 노드는 `type: "result"`
- 트리 구조가 끊기지 않도록 주의

## 🔄 시스템 전환하기

`src/main.tsx` 파일을 열어서:

```typescript
// 점수제로 사용 (현재)
import App from './App-score.tsx'

// 트리 구조로 변경하려면
// import App from './App.tsx'
```

## 💡 팁

1. **점수제 시스템 권장**: 더 간단하고 유지보수가 쉬움
2. **질문 개수**: 10개가 적당 (너무 많으면 사용자 피로)
3. **점수 범위**: 유사한 성격은 범위로 묶기 (예: [-15, -13])
4. **카테고리 균형**: 4가지 카테고리를 골고루 분배
5. **테스트**: 수정 후 반드시 모든 경로를 테스트

## 🚀 개발 서버 실행

```bash
npm run dev
```

브라우저에서 `http://localhost:5173` 열기

## 📝 데이터 검증

질문과 결과 데이터가 올바른지 확인:
- 질문 수와 점수 범위가 일치하는지
- 모든 점수가 결과에 매핑되는지
- JSON 문법 오류가 없는지
